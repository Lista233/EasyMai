/* 深色模式样式 - favorites页面 */
@import '@/uni.scss';

.container.dark-mode {
  background: $dark-gradient-bg;
  
  /* 随机歌曲按钮样式 */
  .random-song-btn {
    background-color: #6366f1;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    
    .random-icon {
      color: #ffffff;
    }
    
    .random-text {
      color: #ffffff;
    }
  }
  .folder-tabs {
    margin-bottom: 30rpx;
    max-height: 100rpx;
    
    .folder-scroll {
      width: 100%;
      height: 100%;
    }
    
    .folder-tabs-inner {
      display: flex;
      flex-direction: row;
      padding: 10rpx;
      white-space: nowrap;
      height: 80rpx;
      min-width: 100%;
    }
    
    .folder-tab {
      display: inline-flex;
      align-items: center;
      height: 80rpx;
      padding: 0 30rpx;
      margin-right: 20rpx;
      background-color: $dark-card-bg !important;
      border-radius: 30rpx;
      box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.15) !important;
      transition: all 0.3s ease;
      flex-shrink: 0;
      
      &.active {
        background-color: rgba(99, 102, 241, 0.8) !important;
        
        .folder-name, .folder-count {
          color: $dark-text-primary !important;
        }
      }
      
      .folder-name {
        font-size: 28rpx;
        font-weight: 600;
        color: $dark-text-primary !important;
      }
      
      .folder-count {
        font-size: 24rpx;
        color: $dark-text-secondary !important;
        margin-left: 8rpx;
      }
    }
  }
  /* 随机选歌弹窗样式 */
  .random-song-popup {
    background-color: $dark-card-bg;
    border: 1px solid $dark-card-border;
    box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.3);
    
    .popup-header {
      border-bottom: 1px solid $dark-card-border;
      background-color: rgba(0, 0, 0, 0.2);
      
      .title {
        color: $dark-text-primary;
      }
      
      .close-btn {
        color: $dark-text-secondary;
      }
    }
    
    .popup-content {
      .cover-wrapper {
        .cover-container {
          box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.3);
          border: 4rpx solid rgba(0, 0, 0, 0.2);
          
          &.clickable {
            &::after {
              background-color: rgba(255, 255, 255, 0.1);
            }
          }
          
          .placeholder-cover {
            background-color: rgba(0, 0, 0, 0.3);
            color: $dark-text-hint;
          }
        }
        
        .difficulty-badge {
          box-shadow: 0 2rpx 6rpx rgba(0, 0, 0, 0.3);
          
          // 保持难度标签的颜色不变，因为它们是功能性的
        }
      }
      
      .song-info {
        background-color: rgba(0, 0, 0, 0.2);
        
        .song-title {
          color: $dark-text-primary;
          
          &::after {
            background-color: rgba(255, 255, 255, 0.1);
          }
        }
        
        .song-artist {
          color: $dark-text-secondary;
        }
        
        .song-details {
          .bpm-info, .charter-info {
            color: $dark-text-secondary;
            background-color: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
          }
        }
      }
      
      .rolling-tip {
        color: $dark-text-secondary;
        background-color: rgba(0, 0, 0, 0.2);
      }
    }
    
    .popup-footer {
      border-top: 1px solid $dark-card-border;
      background-color: rgba(0, 0, 0, 0.2);
      
      .action-btn {
        box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.2);
        
        &.stop-btn {
          background-color: #ff6b6b;
        }
        
        &.play-btn {
          background-color: #6366f1;
        }
      }
    }
  }
  
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30rpx;
    
    .title {
      font-size: 40rpx;
      font-weight: 700;
      color: $dark-text-primary;
    }
    
    .header-actions {
      display: flex;
      gap: 20rpx;
    }
    
    .manage-btn {
      width: 200rpx;
      height: 60rpx;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #6366f1;
      border-radius: 30rpx;
      
      .manage-icon, .add-icon {
        font-size: 28rpx;
        color: white;
      }
    }
    .add-btn {
       width: 60rpx;
       height: 60rpx;
       display: flex;
       justify-content: center;
       align-items: center;
       background-color: #6366f1;
       border-radius: 30rpx;
       
       .manage-icon, .add-icon {
         font-size: 32rpx;
         color: white;
       }
     }
  }
  
  .song-card {
    background-color: $dark-element-bg;
    box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.2);
    
    &:active {
      background-color: $dark-element-active-bg;
    }
    
    .song-cover {
      .cover-image {
        border: 1px solid rgba(0, 0, 0, 0.2);
      }
      
      .difficulty-badge {
        // 保持难度标签的颜色不变，因为它们是功能性的
        // 只调整背景透明度
        background-color: rgba(0, 0, 0, 0.7);
        
        &.basic {
          background-color: rgb(83, 206, 134);
        }
        
        &.advanced {
          background-color: rgb(227, 206, 42);
        }
        
        &.expert {
          background-color: rgba(225, 71, 87, 1);
        }
        
        &.master {
          background-color: rgba(156, 136, 255, 1);
        }
        
        &.remaster {
          background-color: rgb(225, 181, 247);
        }
      }
    }
    
    .song-info {
      .song-title {
        color: $dark-text-primary;
        
        &::before {
          background-color: #6366f1;
        }
      }
      
      .song-details {
        .song-artist, .song-version, .song-genre, .song-bpm {
          color: $dark-text-secondary;
        }
        
        .song-version {
          background-color: rgba(0, 105, 161, 0.2);
          color: #60a5fa;
        }
        
        .song-artist {
          background-color: rgba(241, 162, 93, 0.2);
          color: #fdba74;
        }
        
        .song-genre {
          background-color: rgba(22, 163, 74, 0.2);
          color: #4ade80;
        }
        
        .song-bpm {
          background-color: rgba(110, 93, 241, 0.2);
          color: #a78bfa;
        }
      }
    }
    
    .remove-btn {
      .remove-icon {
        color: $dark-text-secondary;
      }
    }
  }
  
  .favorites-list {
    .empty-state {
      background-color: $dark-card-bg;
      border: 1px solid $dark-card-border;
      box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.15);
      
      .empty-icon {
        color: $dark-text-hint;
      }
      
      .empty-text {
        color: $dark-text-secondary;
      }
    }
    
    .folder-section {
      .folder-header {
        background-color: $dark-card-bg;
        border: 1px solid $dark-card-border;
        box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.15);
        
        .folder-title {
          color: $dark-text-primary;
        }
        
        .folder-count {
          color: $dark-text-secondary;
        }
        
        .folder-actions {
          .action-btn {
            background-color: rgba(0, 0, 0, 0.2);
            color: $dark-text-secondary;
            
            &:active {
              background-color: rgba(0, 0, 0, 0.3);
            }
          }
        }
      }
 
      .song-list {
        
          
          .song-cover {
            .cover-image {
              border: 1px solid rgba(0, 0, 0, 0.2);
              box-shadow: 0 2rpx 6rpx rgba(0, 0, 0, 0.2);
            }
            
            .difficulty-badge {
              // 保持难度标签的颜色不变，因为它们是功能性的
              box-shadow: 0 2rpx 6rpx rgba(0, 0, 0, 0.3);
            }
          }
          
          .song-info {
            .song-title {
              color: $dark-text-primary;
            }
            
            .song-artist {
              color: $dark-text-secondary;
            }
            
            .song-details {
              .detail-item {
                background-color: rgba(0, 0, 0, 0.2);
                color: $dark-text-secondary;
                border: 1px solid rgba(255, 255, 255, 0.05);
              }
            }
          }
          
          .song-actions {
            .action-btn {
              background-color: rgba(0, 0, 0, 0.2);
              color: $dark-text-secondary;
              
              &:active {
                background-color: rgba(0, 0, 0, 0.3);
              }
              
              &.delete-btn {
                color: #ef4444;
                background-color: rgba(239, 68, 68, 0.1);
              }
            }
          }
        }
      }
    }
  }
  
  .add-folder-btn {
    background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
    box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.3);
    
    &:active {
      box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.2);
    }
  }
  
  /* 文件夹管理弹窗样式 */
  .folder-popup {
    background-color: $dark-card-bg;
    border: 1px solid $dark-card-border;
    box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.2);
    
    .popup-header {
      border-bottom: 1px solid $dark-card-border;
      background-color: rgba(0, 0, 0, 0.2);
      
      .title {
        color: $dark-text-primary;
      }
      
      .close-btn {
        color: $dark-text-secondary;
      }
    }
    
    .folder-list {
      .folder-item {
        border-bottom: 1px solid $dark-card-border;
        
        .folder-name {
          color: $dark-text-primary;
        }
        
        .folder-actions {
          .edit-btn {
            color: #6366f1;
            background-color: rgba(99, 102, 241, 0.15);
          }
          
          .delete-btn {
            color: #ef4444;
            background-color: rgba(239, 68, 68, 0.15);
          }
        }
      }
    }
  }

