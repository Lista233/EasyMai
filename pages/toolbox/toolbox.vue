<template>
  <view class="toolbox-container" :class="{ 'dark-mode': isDarkMode }">
    <view class="header">
      <text class="title">å·¥å…·ç®±</text>
      <text class="subtitle">å®ç”¨å·¥å…·ä¸å°åŠŸèƒ½é›†åˆ</text>
    </view>
    
    <!-- èˆèŒå·¥å…· -->
    <view class="tool-section">
      <view class="section-header">
        <text class="section-title">å®ç”¨ç½‘ç«™</text>
        <text class="section-desc">èˆèŒDXç›¸å…³æ•°æ®æŸ¥è¯¢ç½‘ç«™</text>
      </view>
      
      <view class="tool-grid">
        <view class="tool-card" @click="navigateToWebview('https://www.diving-fish.com/maimaidx/prober/','æ°´é±¼æŸ¥åˆ†å™¨')">
          <view class="tool-icon">ğŸŸï¸</view>
          <view class="tool-name">æ°´é±¼æŸ¥åˆ†å™¨</view>
          <view class="tool-desc">è¿™æ˜¯æœ¬APPæ¥å£çš„æœ¬å®¶QwQ</view>
        </view>
        
        <view class="tool-card" @click="navigateToWebview('https://dxrating.net/search','DXRating')">
          <view class="tool-icon">ğŸŒ</view>
          <view class="tool-name">DXRating.net</view>
          <view class="tool-desc">åŒ…å«ZXZRæ›²ç›®ä¿¡æ¯çš„æŸ¥è¯¢ç½‘ç«™</view>
        </view>
        
        <view class="tool-card" @click="navigateTo('/pages/webview/webview')">
          <view class="tool-icon">âœ¨</view>
          <view class="tool-name">éŸ³æ¸¸åœ°å›¾</view>
          <view class="tool-desc">æŸ¥æŸ¥ä½ åœ°åŒºçš„æœºå°</view>
        </view>
      </view>
    </view>
    
    <!-- æ•°æ®å·¥å…· -->
    <view class="tool-section">
      <view class="section-header">
        <text class="section-title">æ•°æ®å·¥å…·</text>
        <text class="section-desc">æ•°æ®æŸ¥è¯¢ä¸åˆ†æå·¥å…·</text>
      </view>
      
      <view class="tool-grid">
        <view class="tool-card" @click="navigateTo('/pages/rank-calculator/rank-calculator')">
          <view class="tool-icon">ğŸ¯</view>
          <view class="tool-name">å•æ›²Ratingè®¡ç®—</view>
          <view class="tool-desc">æ ¹æ®å®šæ•°åŠè¾¾æˆç‡ç®—å‡ºRating</view>
        </view>
       <view class="tool-card" @click="navigateTo('/pages/test1/index')">
         <view class="tool-icon">ğŸ”¢</view>
         <view class="tool-name">è¾¾æˆç‡è®¡ç®—</view>
         <view class="tool-desc">æ ¹æ®Notesç®—å‡ºè¾¾æˆç‡</view>
       </view>
		<view class="tool-card" @click="navigateTo('/pages/version-map/version-map')">
		  <view class="tool-icon">ğŸ“Š</view>
		  <view class="tool-name">ç‰ˆæœ¬åç§°å¯¹ç…§è¡¨</view>
		  <view class="tool-desc">å¦ˆå¦ˆå†ä¹Ÿä¸æ‹…å¿ƒæˆ‘åˆ†ä¸æ¸…ç‰ˆæœ¬å•¦</view>
		</view>
    <view class="tool-card" @click="navigateTo('/pages/chart-stats/chart-stats')">
          <view class="tool-icon">ğŸ”¥</view>
          <view class="tool-name">çƒ­é—¨ä¹æ›²æ’è¡Œ</view>
          <view class="tool-desc">éœ‡æƒŠ!æœ€ç«çˆ†çš„è°±é¢ç«Ÿç„¶æ˜¯...</view>
        </view>
 <!--       <view class="tool-card" @click="navigateTo('/pages/PlayerRecords/PlayerRecords')">
          <view class="tool-icon">ğŸ†</view>
          <view class="tool-name">æˆç»©æŸ¥è¯¢</view>
          <view class="tool-desc">æŸ¥çœ‹æ¸¸ç©æˆç»©è®°å½•</view>
        </view> -->
        
 <!--       <view class="tool-card" @click="navigateTo('/pages/maiupdate/maib50')">
          <view class="tool-icon">ğŸ“ˆ</view>
          <view class="tool-name">B50æŸ¥è¯¢</view>
          <view class="tool-desc">æŸ¥çœ‹B50æˆç»©æ•°æ®</view>
        </view> -->
      </view>
    </view>
    
    <!-- å®ç”¨å·¥å…· -->
<!--    <view class="tool-section">
      <view class="section-header">
        <text class="section-title">å®ç”¨å·¥å…·</text>
        <text class="section-desc">å…¶ä»–å®ç”¨åŠŸèƒ½</text>
      </view>
      
      <view class="tool-grid">
        <view class="tool-card" @click="navigateTo('/pages/song-search/song-search')">
          <view class="tool-icon">ğŸ”</view>
          <view class="tool-name">ä¹æ›²æœç´¢</view>
          <view class="tool-desc">æœç´¢èˆèŒæ›²åº“æ­Œæ›²</view>
        </view>
        
        <view class="tool-card" @click="navigateToWebview('https://map.bemanicn.com/', 'æ°´é±¼ç½‘ç«™')">
          <view class="tool-icon">ğŸŒ</view>
          <view class="tool-name">æ°´é±¼ç½‘ç«™</view>
          <view class="tool-desc">è®¿é—®æ°´é±¼å®˜ç½‘</view>
        </view>
        
        <view class="tool-card" @click="navigateTo('/pages/maiupdate/maiupdate')">
          <view class="tool-icon">ğŸ”„</view>
          <view class="tool-name">æ•°æ®æ›´æ–°</view>
          <view class="tool-desc">æ›´æ–°æ¸¸æˆæ•°æ®</view>
        </view>
      </view>
    </view> -->
    
   
  </view>
</template>

<script setup>
import { ref, onMounted,inject,onBeforeMount} from 'vue';
import { updateNativeTabBar } from '@/utils/updateNativeTabBar.js';
// æ³¨å…¥ä¸»é¢˜æœåŠ¡
const applyTheme = inject('applyTheme');
const isDarkMode = inject('isDarkMode');
onBeforeMount(() => {
  updateNativeTabBar(isDarkMode.value);
  applyTheme();
});
// å¯¼èˆªå‡½æ•°
const navigateTo = (url) => {
  uni.navigateTo({
    url: url,
    animationType: 'pop-in',
    animationDuration: 300
  });
};

// æ·»åŠ ä¸“é—¨è·³è½¬åˆ° webview çš„å‡½æ•°
const navigateToWebview = (targetUrl, title) => {
  // å¯¹ URL å’Œæ ‡é¢˜è¿›è¡Œç¼–ç ï¼Œé¿å…ç‰¹æ®Šå­—ç¬¦é—®é¢˜
  const encodedUrl = encodeURIComponent(targetUrl);
  const encodedTitle = encodeURIComponent(title || 'ç½‘é¡µæµè§ˆ');
  
  uni.navigateTo({
    url: `/pages/webview/webview?url=${encodedUrl}&title=${encodedTitle}`,
    animationType: 'pop-in',
    animationDuration: 300
  });
};

onMounted(() => {
  // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–é€»è¾‘

});
</script>

<style lang="scss" scoped>
@import './dark-toolbox.scss';
.toolbox-container {
  padding: 30rpx;
  background-color: #f5f7fa;
  min-height: 100vh;
}

.header {
  margin-bottom: 40rpx;
  
  .title {
    font-size: 44rpx;
    font-weight: 700;
    color: #1e293b;
    display: block;
    margin-bottom: 10rpx;
  }
  
  .subtitle {
    font-size: 28rpx;
    color: #64748b;
  }
}

.tool-section {
  margin-bottom: 50rpx;
  background: #ffffff;
  border-radius: 20rpx;
  padding: 30rpx;
  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.05);
  
  .section-header {
    margin-bottom: 30rpx;
    border-bottom: 2rpx solid #f1f5f9;
    padding-bottom: 20rpx;
    
    .section-title {
      font-size: 34rpx;
      font-weight: 600;
      color: #334155;
      display: block;
      margin-bottom: 8rpx;
    }
    
    .section-desc {
      font-size: 24rpx;
      color: #94a3b8;
    }
  }
  
  .tool-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 20rpx;
    
    .tool-card {
      flex: 1;
      min-width: calc(33.333% - 14rpx);
      background: #f8fafc;
      border-radius: 16rpx;
      padding: 24rpx;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: all 0.3s ease;
      
      &:active {
        transform: scale(0.97);
        background: #f1f5f9;
      }
      
      .tool-icon {
        font-size: 48rpx;
        margin-bottom: 16rpx;
      }
      
      .tool-name {
        font-size: 28rpx;
        font-weight: 600;
        color: #334155;
        margin-bottom: 8rpx;
        text-align: center;
      }
      
      .tool-desc {
        font-size: 22rpx;
        color: #64748b;
        text-align: center;
      }
    }
  }
}

@media screen and (max-width: 768rpx) {
  .tool-grid {
    .tool-card {
      min-width: calc(50% - 10rpx);
    }
  }
}
</style> 