/* 深色模式样式 - 主页 */
@import '@/uni.scss';

#index.dark-mode {
	background: $dark-gradient-bg !important;

.loading-container{.loading-spinner{} .loading-text{color:$dark-text-primary;}}

	.content-container {
     background: $dark-gradient-bg !important;
	}
	
	.button-group {
		.share-import-btn {
	background: linear-gradient(135deg, #4f46e5 0%, #4338ca 100%);
	box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
	
	&:hover {
		box-shadow: 0 6px 16px rgba(79, 70, 229, 0.4);
	}
	
	.btn-text {
		color: white;
	}
		}
		.history-btn {
			background: linear-gradient(135deg, #4f46e5 0%, #4338ca 100%);
			box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
			
			&:hover {
				box-shadow: 0 6px 16px rgba(79, 70, 229, 0.4);
			}
			
			.btn-text {
				color: white;
			}
		}
		
			
			.save-image-btn {
		background: linear-gradient(135deg, #4f46e5 0%, #4338ca 100%);
		box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
		
		&:hover {
			box-shadow: 0 6px 16px rgba(79, 70, 229, 0.4);
		}
		
		.btn-text {
			color: white;
		}
		}
		

		.refresh-btn {
			background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
			box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
			
			&:hover {
				box-shadow: 0 6px 16px rgba(99, 102, 241, 0.4);
			}
		}

		.bind-btn {
			background: linear-gradient(135deg, #4f46e5 0%, #4338ca 100%);
			box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
			
			&:hover {
				box-shadow: 0 6px 16px rgba(79, 70, 229, 0.4);
			}
		}

		.update-btn {
			background: linear-gradient(135deg, #4338ca 0%, #3730a3 100%);
			box-shadow: 0 4px 12px rgba(67, 56, 202, 0.3);
			
			&:hover {
				box-shadow: 0 6px 16px rgba(67, 56, 202, 0.4);
			}
		}
		

	}
	
	.b50box {
		.b50-user-info {
		  width: 100%;
		  text-align: center;
		  margin-bottom: -10rpx;
		  padding: 10rpx 0;
		    background-color: $dark-card-bg;
		  .user-nickname {
			  width: 100%;
		    font-size: 36rpx;
		    font-weight: 600;
		    color: $dark-text-primary;
		    display: inline-block;
		    padding: 16rpx 0rpx;
		    border-radius: 10rpx;
		    background-color: $dark-card-bg;
		    box-shadow: none; 
		  }
		}
		background: $dark-gradient-bg !important;

		.section-title {
			color: $dark-text-primary !important;
			
			.title-content {
				&::before,
				&::after {
					content: '';
					background: linear-gradient(to bottom, #4f46e5, #6366f1);
				}
				
				&::before {
					left: 0;
				}
				
				&::after {
					right: 0;
				}
			}
			
			&.has-data {
				background: linear-gradient(135deg, rgba(30, 30, 40, 0.9), rgba(40, 40, 50, 0.4));
				box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.2);
				
				.title-content {
					transform: translateX(0);
					
					&::before,
					&::after {
						opacity: 1;
					}
				}
			}
			
			&::after {
				background: linear-gradient(to right, 
					rgba(79, 70, 229, 0.5), 
					rgba(99, 102, 241, 0.5),
					rgba(79, 70, 229, 0.5)
				);
				transform: scaleX(0);
				transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
				transform-origin: left;
			}
			
			&.has-data::after {
				transform: scaleX(1);
			}
		}
		
		.rating-container {
		    background: rgba(30, 30, 40, 0.95);
		
		    
		    .rating-title {
		        color: $dark-text-secondary;
		    }
		    
		    .rating-value {
		        color: $dark-text-primary;
		    }
		    
		    .rating-subtitle {
		        color: $dark-text-secondary;
		    }
		    
		    // 默认样式（<12000）
		    &.default {
		        background: $dark-card-bg;
		        .rating-title, .rating-subtitle { color: rgba(200, 200, 220, 0.7); }
		        .rating-value { color: rgba(230, 230, 250, 0.9); }
		    }
		    
		    // 12000-13000 铜色
		    &.copper {
		        background: $dark-card-bg;
		        .rating-title, .rating-subtitle { color: rgba(124, 45, 18, 0.8); }
		        .rating-value {
		            background: linear-gradient(135deg, #c2410c, #9a3412);
		            -webkit-background-clip: text;
		            color: transparent;
		        }
		    }
		    
		    // 13000-14000 蓝色
		    &.blue {
		        background: $dark-card-bg;
		        .rating-title, .rating-subtitle { color: rgba(30, 58, 138, 0.8); }
		        .rating-value {
		            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
		            -webkit-background-clip: text;
		            color: transparent;
		        }
		    }
		    
		    // 14000-14500 金色
		    &.gold {
		        background: $dark-card-bg;
		        .rating-title, .rating-subtitle { color: rgba(146, 64, 14, 1.0); }
		        .rating-value {
					opacity: 0.8;
		             background: linear-gradient(135deg, #dacc15, #fccc11);
		            -webkit-background-clip: text;
		            color: transparent;
		        }
		    }
		    
		    // 14500-15000 亮金色
		    &.bright-gold {
		        background: $dark-card-bg;
		        .rating-title, .rating-subtitle { color: rgba(138, 120, 14, 1.0); }
		        .rating-value {
					opacity: 0.8;
		            background: linear-gradient(135deg, #facc15, #ffc308);
		            -webkit-background-clip: text;
		            color: transparent;
		        }
		    }
		    
		    // 15000+ 彩虹色
		    &.rainbow {
		        background: $dark-card-bg;
				
		        &::before {
					background: $dark-card-bg;
		        }
				
		        .rating-title, .rating-subtitle { 
		            color: $dark-text-primary;
		        }
		        
				.rating-value {
		            background: linear-gradient(
		                90deg,
		                #ff3232,
		                #ffb511,
		                #11dd88,
		                #00bfff,
		                #8965d3,
		                #ff3232
		            );
		            background-size: 300% 100%;
		            -webkit-background-clip: text;
		            color: transparent;
		            animation: rainbow-text 24s linear infinite;
		        }
		    }
		}
		
		@keyframes rainbow-bg {
		    0% { background-position: 0% 50%; }
		    100% { background-position: 300% 50%; }
		}
		
		@keyframes rainbow-text {
		    0% { background-position: 0% 50%; }
		    100% { background-position: 300% 50%; }
		}
		
		.b35box, .b15box {
			.song-card {
				background: $dark-element-bg;
				box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.2);
				
				.song-cover {
					.cover-image {
						background-color: rgba(0, 0, 0, 0.3);
						
						&.level-0 {
							border-color: rgba(46, 204, 113, 1);
							box-shadow: 0 2rpx 8rpx rgba(46, 204, 113, 0.5);
						}
						
						&.level-1 {
							border-color: rgba(241, 196, 15, 1);
							box-shadow: 0 2rpx 8rpx rgba(241, 196, 15, 0.5);
						}
						
						&.level-2 {
							border-color: rgba(231, 76, 60, 1);
							box-shadow: 0 2rpx 8rpx rgba(231, 76, 60, 0.5);
						}
						
						&.level-3 {
							border-color: rgba(155, 89, 182, 1);
							box-shadow: 0 2rpx 8rpx rgba(155, 89, 182, 0.5);
						}
						
						&.level-4 {
							border-color: rgba(190, 170, 245, 1);
							box-shadow: 0 2rpx 8rpx rgba(190, 170, 245, 0.5);
						}
					}
				}
				
				.song-info {
					.song-title {
						color: $dark-text-primary;
					}
					
					.song-stats {
						.stat-item {
							background-color: rgba(0, 0, 0, 0.2);
							color: $dark-text-secondary;
							
							&.achievements {
								color: #ff9500;
								background-color: rgba(255, 149, 0, 0.15);
								box-shadow: 0 1px 2px rgba(255, 149, 0, 0.2);
							}
							
							&.ra {
								color: #818cf8;
								background-color: rgba(99, 102, 241, 0.15);
								box-shadow: 0 1px 2px rgba(99, 102, 241, 0.2);
							}
						}
						
						/* 删除所有布局大小，只保留颜色变化 */
						.fc-fs-row {
							/* 保留fc-fs-row的样式 */
							
							.fc-container, .fs-container {
								/* 无需额外样式 */
							}
						}
						
						/* FC 和 FS 样式 - 只保留颜色 */
						.fc-fc, .fc-fcp {
							color: #10b981 !important;
							background-color: rgba(16, 185, 129, 0.15) !important;
							box-shadow: 0 1px 2px rgba(16, 185, 129, 0.2);
						}
						
						.fc-ap, .fc-app {
							color: #f59e0b !important;
							background-color: rgba(245, 158, 11, 0.15) !important;
							box-shadow: 0 1px 2px rgba(245, 158, 11, 0.2);
						}
						
						.fs-sc, .fs-fs, .fs-fsp {
							color: #3b82f6 !important;
							background-color: rgba(59, 130, 246, 0.15) !important;
							box-shadow: 0 1px 2px rgba(59, 130, 246, 0.2);
						}
						
						.fs-fsd, .fs-fsdp {
							color: #f59e0b !important;
							background-color: rgba(245, 158, 11, 0.15) !important;
							box-shadow: 0 1px 2px rgba(245, 158, 11, 0.2);
						}
					}
				}
				
				.rate-badge {
					color: $dark-text-secondary;
					background: rgba(255, 255, 255, 0.05);
					
					&.rainbow {
						background: none;
						background-clip: text;
						-webkit-background-clip: text;
						background-image: linear-gradient(45deg, 
							rgba(205, 65, 58, 0.95) 0%,
							rgba(255, 149, 0, 0.95) 20%,
							rgba(255, 204, 0, 0.95) 40%,
							rgba(89, 230, 124, 0.95) 60%,
							rgba(88, 86, 214, 0.95) 80%,
							rgba(255, 45, 85, 0.95) 100%
						);
						color: transparent;
						font-weight: 800;
					}
					
					&.rainbowp {
						background: none;
						background-clip: text;
						-webkit-background-clip: text;
						background-image: linear-gradient(45deg, 
							#ff4757,
							#ff7f50,
							#ffa502,
							#70a1ff,
							#7f50ff,
							#ff6b81
						);
						color: transparent;
						font-weight: 800;
					}
					
					&.gold {
						background: none;
						background-clip: text;
						-webkit-background-clip: text;
						background-image: linear-gradient(45deg, 
							#ffd700,
							#ffa500,
							#ffd700
						);
						color: transparent;
						font-weight: 800;
					}
				}
			}
		}
	}
	
	.qr-modal {
		.qr-form {
			.form-item {
				.form-textarea {
					color: $dark-text-primary;
					
					&:focus {
						border-color: #818cf8;
						box-shadow: 0 0 0 4rpx rgba(129, 140, 248, 0.2);
						background: rgba(0, 0, 0, 0.3);
						outline: none;
					}
					
					&:hover {
						border-color: #818cf8;
						background: rgba(0, 0, 0, 0.25);
					}
					
					&::placeholder {
						color: $dark-text-hint;
					}
				}
				
				.import-btn {
					background: rgba(0, 0, 0, 0.2);
					
					.btn-icon {
						font-size: 36rpx;
						color: $dark-text-secondary;
					}
					
					.btn-text {
						font-size: 28rpx;
						color: $dark-text-secondary;
						font-weight: 500;
					}
					
					&:active {
						background: rgba(0, 0, 0, 0.3);
						border-color: #818cf8;
						
						.btn-icon, .btn-text {
							color: #6366f1;
						}
					}
				}
			}
		}
		
		.modal-buttons {
			.modal-btn {
				&.confirm {
					background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
					
					&:active {
						background: linear-gradient(135deg, #4f46e5 0%, #4338ca 100%);
					}
				}
			}
		}
	}

	/* 历史B50按钮样式 */

	
	/* 历史记录弹窗样式 */
	.history-modal {
		background-color: $dark-card-bg;
		border: 1px solid $dark-card-border;
		
		.modal-title {
			color: $dark-text-primary;
			border-bottom: 1px solid $dark-card-border;
		}
		
		.history-item {
			border-bottom: 1px solid rgba(255, 255, 255, 0.1);
			
			&:hover {
				background-color: rgba(255, 255, 255, 0.05);
			}
			
			.history-date {
				color: $dark-text-primary;
			}
			
			.history-rating {
				color: $dark-text-secondary;
			}
			
			.view-btn {
				background-color: #4f46e5;
				color: white;
				
				&:active {
					background-color: #4338ca;
				}
			}
			
			.delete-btn {
				background-color: rgba(239, 68, 68, 0.2);
				color: #f87171;
				
				&:active {
					background-color: rgba(239, 68, 68, 0.3);
				}
			}
		}
		
		.empty-history {
			.empty-text {
				color: $dark-text-secondary;
			}
		}
		
		.modal-buttons {
			border-top: 1px solid $dark-card-border;
			
			.modal-btn {
				&.cancel {
					background-color: rgba(255, 255, 255, 0.1);
					color: $dark-text-primary;
					
					&:active {
						background-color: rgba(255, 255, 255, 0.15);
					}
				}
			}
		}
	}
	
	/* 历史记录详情弹窗样式 */
	.history-detail-modal {
		background-color: $dark-card-bg;
		border: 1px solid $dark-card-border;
		
		.modal-title {
			color: $dark-text-primary;
			border-bottom: 1px solid $dark-card-border;
		}
		
		.history-detail-content {
			background-color: $dark-card-bg;
		}
		
		.modal-buttons {
			border-top: 1px solid $dark-card-border;
			
			.modal-btn {
				&.cancel {
					background-color: rgba(255, 255, 255, 0.1);
					color: $dark-text-primary;
					
					&:active {
						background-color: rgba(255, 255, 255, 0.15);
					}
				}
			}
		}
	}
	
	/* 历史记录列表样式 */
	.history-list-container {
		background: $dark-gradient-bg !important;
	}
	
	.history-header {
		.history-title {
			color: $dark-text-primary;
		}
		
		.save-current-btn {
			background: linear-gradient(135deg, #4f46e5 0%, #4338ca 100%);
			box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
			
			&:hover {
				box-shadow: 0 6px 16px rgba(79, 70, 229, 0.4);
			}
			
			.save-btn-text {
				color: white;
			}
		}
		
		.history-action-btn {
			background: linear-gradient(135deg, #4338ca 0%, #3730a3 100%);
			&:active {
				background: #312e81;
			}
			
			.btn-text {
				color: white;
			}
		}
	}
	
	.history-list {
		.history-item {
			border-bottom: 1px solid rgba(255, 255, 255, 0.1);
			
			&:hover {
				background-color: rgba(255, 255, 255, 0.05);
			}
			
			.history-info {
				.history-date {
					color: $dark-text-primary;
				}
				
				.history-rating {
					color: $dark-text-secondary;
				}
				
				.history-nickname {
					color: #818cf8;
				}
			}
			
			.history-actions {
				.view-btn {
					background-color: #4f46e5;
					color: white;
					
					&:active {
						background-color: #4338ca;
					}
				}
				
				.edit-btn {
					background-color: #0284c7;
					color: white;
					
					&:active {
						background-color: #0369a1;
					}
				}
				
				.delete-btn {
					background-color: rgb(208, 83, 83);
					color: #ffffff;
					
					&:active {
						background-color: rgba(239, 68, 68, 1.0);
					}
				}
			}
		}
	}
	
	.empty-history {
		.empty-text {
			color: $dark-text-secondary;
		}
	}
	/* 历史记录查看状态提示 */
	.history-view-indicator {
		background-color: rgba(99, 102, 241, 0.2);
		
		.history-view-text {
			color: #818cf8;
		}
		
		.return-to-current-btn {
			background-color: #4f46e5;
			
			&:active {
				background-color: #4338ca;
			}
			
			.return-btn-text {
				color: white;
			}
		}
	}
	
	/* 分享/导入选项弹窗 */
	.share-import-modal {
		background-color: $dark-card-bg;
		
		.modal-title {
			color: $dark-text-primary;
		}
		
		.option-btn {
		background: linear-gradient(135deg, #4f46e5 0%, #4338ca 100%);
		}
		
		.modal-btn {
			&.cancel {
				background-color: rgba(255, 255, 255, 0.1);
				color: $dark-text-primary;
				
				&:active {
					background-color: rgba(255, 255, 255, 0.15);
				}
			}
		}
	}
	
	/* 导入B50弹窗 */
	.modal-content.import-modal {
		background-color: $dark-card-bg;
		
		.modal-title {
			color: $dark-text-primary;
		}
		
		.form-label {
			color: $dark-text-primary;
		}
		
		.form-textarea {
			background-color: $dark-element-bg;
			color: $dark-text-primary;
			border: 1px solid rgba(255, 255, 255, 0.1);
			
			&:focus {
				border-color: rgba(99, 102, 241, 0.5);
			}
		}
		
		.modal-btn {
			&.cancel {
				background-color: rgba(255, 255, 255, 0.1);
				color: $dark-text-primary;
				
				&:active {
					background-color: rgba(255, 255, 255, 0.15);
				}
			}
			
			&.confirm {
				background-color: #4f46e5;
				color: white;
				
				&:active {
					background-color: #4338ca;
				}
			}
		}
	}
	
	/* 分享B50弹窗 */
	.modal-content.share-modal {
		background-color: $dark-card-bg;
		
		.modal-title {
			color: $dark-text-primary;
		}
		
		.form-label {
			color: $dark-text-primary;
		}
		
		.share-code-container {
			.form-input {
				background-color: $dark-element-bg;
				color: $dark-text-primary;
				border: 1px solid rgba(255, 255, 255, 0.1);
			}
			
			.copy-btn {
				background-color: #4f46e5;
				color: white;
				
				&:active {
					background-color: #4338ca;
				}
			}
		}
		
		.modal-btn {
			&.cancel {
				background-color: rgba(255, 255, 255, 0.1);
				color: $dark-text-primary;
				
				&:active {
					background-color: rgba(255, 255, 255, 0.15);
				}
			}
		}
	}
	
	/* 保存/编辑历史记录名称弹窗 */
	.modal-content:not(.share-modal):not(.import-modal) {
		background-color: $dark-card-bg;
		
		.modal-title {
			color: $dark-text-primary;
		}
		
		.form-label {
			color: $dark-text-primary;
		}
		
		.form-input {
			background-color: $dark-element-bg;
			color: $dark-text-primary;
			border: 1px solid rgba(255, 255, 255, 0.1);
			
			&:focus {
				border-color: rgba(99, 102, 241, 0.5);
			}
		}
		
		.modal-btn {
			&.cancel {
				background-color: rgba(255, 255, 255, 0.1);
				color: $dark-text-primary;
				
				&:active {
					background-color: rgba(255, 255, 255, 0.15);
				}
			}
			
			&.confirm {
				background-color: #4f46e5;
				color: white;
				
				&:active {
					background-color: #4338ca;
				}
			}
		}
	}
}

@keyframes modalShow {
	from {
		opacity: 0;
		transform: scale(0.95);
	}
	to {
		opacity: 1;
		transform: scale(1);
	}
}
#index .history-list-container .history-header .return-btn{color:$dark-text-primary;}
// 导入优化的黑夜模式弹窗样式
@import './dark-share-modal.scss'; 